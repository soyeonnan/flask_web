{% extends "detector/base.html" %}

{% block content %}
<h2>게시판페이지</h2>
<div class="container my-3">
  <a class="btn btn-primary mb-3" href="{{ url_for('board.new_board') }}">글쓰기</a>
  <table class="table">
    <thead>
      <tr class="table-dark">
        <th>번호</th>
        <th>제목</th>
        <th>작성자</th>
        <th>작성일시</th>
      </tr>
    </thead>
    <tbody>
      {% for board in boards.items %}
      <tr>
        <td>{{ board.id }}</td>
        <td>
            <a href="{{ url_for('board.detail', board_id=board.id) }}">{{ board.subject }}</a>
        </td>
        <td>{{ board.user.username }}</td>
        <td>{{ board.created_at }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>

  <ul class=":pagination">
    {% if boards.has_prev %}
    <li class="page-item">
      <a class="page-link">이전</a>
    </li>
    {% endif %}

    {% for page_num in boards.iter_pages() %}
    <li class="page-item">
      <a class="page-link {{ 'active' if page_num == boards.page else ''}} " href="/boards?page={{ page_num }}">{{ page_num }}</a>
    </li>
    {% else %}
    <li class="page-item disabled">
      <a class="page-link" href="">...</a>
    </li>
    {% endif %}
    {% endfor %}

    {% if boards.has_next %}
    <li class="page-item">
      <a class="page-link" href="/board?page={{ boards.next_num }}">다음</a>
    </li>
    {% endif %}

</div>
{% endblock %}